(function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],u=0,h=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={organization:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;i.push([26,"chunk-vendors","chunk-common"]),a()})({"258d":function(t,e,a){},26:function(t,e,a){t.exports=a("ab51")},"5038c":function(t,e,a){"use strict";var n=a("258d"),r=a.n(n);r.a},"6e58":function(t,e){t.exports="data:image/png;base64,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"},ab51:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",{ref:"page",staticClass:"organization-page",attrs:{headerHeightVW:t.headerHeightVW,scrollbar:!0},on:{"on-ready":t.onReady}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("van-nav-bar",{attrs:{id:"header",title:"选择人员","left-arrow":!(!t.departments||!t.departments.length)},on:{"click-left":t.onClickLeft}}),a("div",{staticClass:"search-bar"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词","show-action":"",shape:"round"},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[a("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[t._v("搜索")])])],1)],1),a("div",{staticClass:"list-container"},[t.queryShow?[a("van-cell-group",t._l(t.queryUserList,(function(e){return a("van-cell",{key:e.id,attrs:{title:e.name,label:e.description,clickable:""},on:{click:function(a){return t.handleUser(e)}}},[e.avator?a("img",{staticClass:"user-icon",attrs:{slot:"icon",src:e.avator},slot:"icon"}):a("img",{staticClass:"user-icon",attrs:{slot:"icon",src:t.defaultAvator},slot:"icon"})])})),1)]:[a("van-cell-group",[t.departmentShow?a("van-cell",[a("span",{staticStyle:{color:"rgba(0,0,0,0.5)"},domProps:{innerHTML:t._s(t.departmentShow)}})]):t._e()],1),a("van-cell-group",t._l(t.departmentList,(function(e){return a("van-cell",{key:e.id,attrs:{title:e.name,"is-link":"",clickable:""},on:{click:function(a){return t.handleDepartment(e)}}})})),1),a("van-cell-group",t._l(t.userList,(function(e){return a("van-cell",{key:e.id,attrs:{title:e.name,label:e.description,clickable:""},on:{click:function(a){return t.handleUser(e)}}},[e.avator?a("img",{staticClass:"user-icon",attrs:{slot:"icon",src:e.avator},slot:"icon"}):a("img",{staticClass:"user-icon",attrs:{slot:"icon",src:t.defaultAvator},slot:"icon"})])})),1)]],2)])},r=[],i=(a("6d67"),a("75fc")),o=(a("7f7f"),a("9973")),s=a("c03e"),c=a("365c"),l=a("8149"),d=a("0e5c"),u={components:{Page:o["a"]},data:function(){return{headerHeightVW:0,userList:[],departmentList:[],departments:[{name:"联系人",id:""}],id:null,mode:null,query:"",queryShow:!1,queryUserList:[],defaultAvator:a("6e58"),type:1,profession:"",status:""}},computed:{departmentShow:function(){var t=[];if(this.departments)for(var e=0;e<this.departments.length;e++)t.push(this.departments[e].name);return t[t.length-1]='<span style="color: #108EE9;">'.concat(t[t.length-1],"</span>"),t.join(" > ")}},methods:{onReady:function(t,e){this.headerHeightVW=100*(t.h+57)/t.w,s["a"].getParam("departments")&&(this.departments=s["a"].getParam("departments")),this.id=s["a"].getParam("id"),this.mode=s["a"].getParam("mode")||"order",this.job=s["a"].getParam("job")||"",this.profession=s["a"].getParam("profession")||"",this.status=s["a"].getParam("status")||"",s["a"].getParam("type")&&(this.type=s["a"].getParam("type")),this.loadList()},loadList:function(){var t=this;this.$toast.loading({duration:0,loadingType:"spinner"}),c["a"].getOrganization({department:this.departments.length>0?this.departments[this.departments.length-1].id:"",all:"order"!=this.mode,job:this.job,profession:this.profession,status:this.status}).then((function(e){t.departmentList=e.departments,t.userList=e.users,t.$toast.clear()})).catch((function(e){t.$toast(e)}))},onSearch:function(){var t=this;this.query&&(this.$toast.loading({duration:0,loadingType:"spinner"}),c["a"].searchOrganization({query:this.query}).then((function(e){t.queryUserList=e.users,t.$toast.clear()})).catch((function(e){t.$toast(e)})))},handleDepartment:function(t){var e=Object(i["a"])(this.departments);e.push(t);var a=[];s["a"].getParam("cid")&&(a=s["a"].getParam("cid")),a.push(t.id),s["a"].copen("organization",t.id,{departments:e,radom:(new Date).getTime(),id:this.id,mode:this.mode,cid:a})},handleUser:function(t){var e=this;if("problem_circulation"==this.mode){if(localStorage.setItem("circulation_select",JSON.stringify(t)),s["a"].back("organization"),s["a"].getParam("cid"))for(var a=s["a"].getParam("cid"),n=0;n<a.length;n++)s["a"].back("organization_"+a[n])}else this.$dialog.confirm({message:"已选择：".concat(t.name,"，是否确认转交")}).then((function(){console.log(t),e.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"正在转发..."}),"order"==e.mode&&l["a"].getOrderDetail(e.id).then((function(a){a.id==e.id?Object(d["b"])(a.signPhoto?a.signPhoto.map((function(t){return{url:t}})):[]).then((function(n){a.signPhoto=n,console.log("1"),1==e.type?Object(d["b"])(a.repairImages?a.repairImages:[]).then((function(n){console.log("2"),a.repairImages=n,Object(d["c"])(a.repairVideos?a.repairVideos:[]).then((function(n){console.log("3"),a.repairVideos=n,c["a"].uploadOrder(a).then((function(){c["a"].forwardOrder({id:e.id,userId:t.id}).then((function(t){e.$toast.clear(),l["a"].removeOrder(e.id).then((function(){if(s["a"].back("organization"),s["a"].getParam("cid"))for(var t=s["a"].getParam("cid"),e=0;e<t.length;e++)s["a"].back("organization_"+t[e])}))})).catch((function(t){e.$toast(t)}))})).catch((function(t){e.$toast(t)}))}))})):c["a"].forwardPlan({id:e.id,userId:t.id}).then((function(t){e.$toast.clear(),l["a"].removeOrder(e.id).then((function(){if(s["a"].back("organization"),s["a"].getParam("cid"))for(var t=s["a"].getParam("cid"),e=0;e<t.length;e++)s["a"].back("organization_"+t[e])}))})).catch((function(t){e.$toast(t)}))})):c["a"].forwardOrder({id:e.id,userId:t.id}).then((function(t){if(e.$toast.clear(),s["a"].back("organization"),s["a"].getParam("cid"))for(var a=s["a"].getParam("cid"),n=0;n<a.length;n++)s["a"].back("organization_"+a[n])})).catch((function(t){e.$toast(t)}))})),"problem"==e.mode&&c["a"].forwardProblem({id:e.id,userId:t.id}).then((function(t){if(e.$toast.clear(),s["a"].back("organization"),s["a"].getParam("cid"))for(var a=s["a"].getParam("cid"),n=0;n<a.length;n++)s["a"].back("organization_"+a[n])})).catch((function(t){e.$toast(t)}))})).catch((function(){}))},onClickLeft:function(){s["a"].back()}},watch:{query:function(t){this.queryShow=!!t},queryShow:function(t){t&&(this.queryUserList=[])}}},h=u,g=(a("5038c"),a("2877")),f=Object(g["a"])(h,n,r,!1,null,null,null),p=f.exports,A=a("a1db");A["a"].init(p)}});
//# sourceMappingURL=organization.849c52a2.js.map